<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>For You â€” 20/10 ğŸ’œ</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
  <style>
    body {
      font-family: 'Inter', sans-serif;
      background: radial-gradient(circle at top, #f6e9ff, #d9b3ff 80%);
      overflow-x: hidden;
    }
    .title-font { font-family: 'Playfair Display', serif; }
    header { text-align: center; margin-top: 2rem; transition: all 1s ease; }
    .hidden { display: none; }

    /* Login box */
    .login-box {
      text-align: center;
      margin-top: 10%;
      animation: fadeIn 1.5s ease;
    }
    .login-input {
      padding: 0.6rem 1rem;
      border: 2px solid #c084fc;
      border-radius: 10px;
      outline: none;
      text-align: center;
      transition: all 0.3s;
    }
    .login-input:focus {
      box-shadow: 0 0 15px #c084fc;
    }
    .login-btn {
      background: #a855f7;
      color: white;
      border-radius: 8px;
      padding: 0.6rem 1.2rem;
      margin-top: 1rem;
      cursor: pointer;
      transition: 0.3s;
    }
    .login-btn:hover { transform: scale(1.1); background: #9333ea; }

    /* ThÆ° */
    .envelope {
      position: relative;
      width: 300px;
      height: 200px;
      background: linear-gradient(135deg, #d4a1ff, #c8a2c8);
      border-radius: 10px;
      cursor: pointer;
      box-shadow: 0 15px 40px rgba(0, 0, 0, 0.25);
      margin: 3rem auto;
      animation: float 3s ease-in-out infinite;
    }
    @keyframes float { 0%,100% { transform: translateY(0px); } 50% { transform: translateY(-10px); } }

    .flap {
      position: absolute; top: 0; left: 0; width: 100%; height: 50%;
      background: linear-gradient(180deg, #f4d9ff, #c8a2c8);
      clip-path: polygon(0 0, 100% 0, 50% 100%);
      border-top-left-radius: 10px; border-top-right-radius: 10px;
      transform-origin: top;
    }
    
    .letter-header {
      text-align: right;
      font-style: italic;
      color: #7e22ce;
      margin-bottom: 1rem;
    }

    .letter-signature {
      text-align: right;
      font-weight: 500;
      color: #6b21a8;
      margin-top: 1.5rem;
    }

    .paper {
      width: 90%;
      max-width: 700px;
      background: #faf5ff;
      border-radius: 10px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
      margin: 3rem auto;
      opacity: 0;
      transform: translateY(50px);
      text-align: left;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }

    .message {
      opacity: 0;
      padding: 2rem;
      font-size: 1.1rem;
      line-height: 1.8;
      color: #4b2e83;
      white-space: pre-line;
      background: linear-gradient(180deg, #faf5ff 70%, #efe0ff);
      border-radius: 10px;
      width: 90%;
      text-align: left;
    }

    .next-btn {
      display: none;
      background: linear-gradient(90deg, #a855f7, #c084fc);
      color: white;
      border-radius: 12px;
      padding: 0.8rem 1.6rem;
      margin: 1.5rem;
      cursor: pointer;
      box-shadow: 0 5px 15px rgba(168, 85, 247, 0.4);
      transition: 0.3s;
      font-weight: bold;
      text-align: center;
    }
    .next-btn:hover {
      transform: scale(1.08);
      box-shadow: 0 0 25px rgba(192, 132, 252, 0.6);
    }

    .next-btn:hover { transform: scale(1.1); background: #9333ea; }

    /* áº¢nh */
    .gallery { display: none; margin-top: 2rem; text-align: center; }
    .gallery img {
      width: 100%; max-width: 600px;
      border-radius: 16px;
      box-shadow: 0 4px 30px rgba(0, 0, 0, 0.2);
      margin: 0 auto;
      cursor: pointer;
      transform: scale(0.95);
      transition: all 1s ease;
      filter: brightness(1.05) saturate(1.2);
    }
    .gallery img:hover { transform: scale(1.02) rotate(1deg); }
    .caption {
      color: #4b2e83;
      font-size: 1.2rem;
      margin: 1rem auto;
      max-width: 600px;
      min-height: 2.5rem;
      text-shadow: 0 0 10px rgba(180, 100, 255, 0.3);
    }

    /* Tim bay */
    .heart-scene {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: radial-gradient(circle at center, #f3e8f9, #c4a1cf 80%);
      overflow: hidden;
      z-index: 50;
      animation: fadeIn 1.5s ease-in-out forwards;
    }
    .heart { position: absolute; color: #ff80bf; font-size: 24px; opacity: 0.8; animation: floatHeart 6s linear infinite; }
    @keyframes floatHeart { 0% { transform: translateY(100vh) scale(0.8); opacity: 1; } 100% { transform: translateY(-10vh) scale(1.2); opacity: 0; } }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
  </style>
</head>
<body class="min-h-screen flex flex-col items-center justify-start text-center p-6">

  <!-- LOGIN SCREEN -->
  <div id="loginScreen" class="flex flex-col items-center justify-center min-h-screen">
  <div class="bg-white/50 backdrop-blur-2xl rounded-[2rem] shadow-[0_8px_40px_rgba(160,100,255,0.25)] px-10 py-10 text-center animate-fadeIn border border-white/40">
    <h1 class="title-font text-3xl mb-4 text-purple-700 font-semibold flex items-center justify-center gap-2 drop-shadow-[0_1px_2px_rgba(128,0,128,0.1)]">
      ğŸ’Œ Má»™t mÃ³n quÃ  bÃ­ máº­t <span class="animate-bounce text-lg">ğŸ’œ</span>
    </h1>
    <p class="text-purple-500 italic mb-8 text-base leading-relaxed">
      Chiáº¿c chÃ¬a khÃ³a má»Ÿ ra Ä‘iá»u anh dÃ nh táº·ng riÃªng cho em.
    </p>

    <div class="flex items-center justify-center gap-4">
      <input id="passwordInput" type="password" placeholder="Nháº­p máº­t mÃ£ ğŸŒ¸"
        class="w-64 px-4 py-3 rounded-full border border-purple-200 text-center text-purple-700 bg-white/70 placeholder-purple-300 focus:ring-4 focus:ring-purple-200/70 outline-none transition-all duration-300 shadow-[inset_0_0_8px_rgba(180,100,255,0.1)]">
      
      <button id="loginBtn"
        class="px-7 py-3 rounded-full bg-gradient-to-r from-purple-500 via-pink-400 to-purple-500 text-white font-semibold text-base shadow-[0_4px_20px_rgba(168,85,247,0.4)] hover:scale-110 hover:shadow-[0_0_25px_rgba(168,85,247,0.6)] transition-transform duration-300">
        ğŸ’– Má»Ÿ quÃ  ğŸ’–
      </button>
    </div>

    <p id="loginMsg" class="text-red-500 mt-5 h-6 text-sm"></p>
  </div>
</div>

<style>
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(30px) scale(0.98); }
  to { opacity: 1; transform: translateY(0) scale(1); }
}
.animate-fadeIn {
  animation: fadeIn 1.2s ease-out forwards;
}
</style>



  <!-- MAIN CONTENT -->
  <div id="mainContent" class="hidden">
    <header id="header">
      <h1 class="title-font text-4xl mb-2 text-purple-700 animate-pulse">ğŸ’Œ A Little Letter For My Baby ğŸ’œ</h1>
      <p class="text-purple-600">Em bÃ© cháº¡m vÃ o bá»©c thÆ° nÃ y Ä‘á»ƒ má»Ÿ nhÃ© ğŸ’œ</p>
    </header>

    <div id="envelope" class="envelope">
      <div id="flap" class="flap"></div>
    </div>

    <div id="paper" class="paper">
      <div id="message" class="message"></div>
      <button id="nextBtn" class="next-btn">Hihi tÃ­p ná»¯a nÃ¨ :3</button>
    </div>

    <section id="gallery" class="gallery">
      <img id="galleryImg" src="images/img1.jpg" alt="áº¢nh ká»· niá»‡m" />
      <div id="caption" class="caption"></div>
    </section>

    <div id="heartScene" class="heart-scene"></div>
  </div>

  <script>
    const SECRET = "2010";
    const loginScreen = document.getElementById('loginScreen');
    const loginBtn = document.getElementById('loginBtn');
    const passwordInput = document.getElementById('passwordInput');
    const loginMsg = document.getElementById('loginMsg');
    const mainContent = document.getElementById('mainContent');

    loginBtn.addEventListener('click', () => {
      if (passwordInput.value.trim() === SECRET) {
        gsap.to(loginScreen, { opacity: 0, duration: 0.8, onComplete: () => {
          loginScreen.classList.add('hidden');
          mainContent.classList.remove('hidden');
          gsap.fromTo(mainContent, { opacity: 0 }, { opacity: 1, duration: 1.2 });
        }});
      } else {
        loginMsg.textContent = "Sai máº¥t rá»“i ğŸ˜¢ Thá»­ láº¡i nhÃ©!";
        gsap.fromTo(loginScreen, { x: -5 }, { x: 5, repeat: 3, yoyo: true, duration: 0.1 });
      }
    });
  </script>

  <script>
    const flap = document.getElementById('flap');
    const envelope = document.getElementById('envelope');
    const paper = document.getElementById('paper');
    const message = document.getElementById('message');
    const nextBtn = document.getElementById('nextBtn');
    const header = document.getElementById('header');
    const gallery = document.getElementById('gallery');
    const galleryImg = document.getElementById('galleryImg');
    const caption = document.getElementById('caption');
    const heartScene = document.getElementById('heartScene');
    let opened = false;

    const galleryData = [
      { img: 'images/IMG_20220702_125628.jpg', text: 'Há»“i mÃ  em má»›i chá»‰ nghÄ© Ä‘áº¿n sáº½ Äƒn thá»‹t anh nÃ¨' },
      { img: 'images/IMG20220727233422.jpg', text: 'Sáº¯p Äƒn thá»‹t thÃ nh cÃ´ng :>' },
      { img: 'images/IMG20220921211810.jpg', text: 'Sáº¯p Äƒn thá»‹t rÃ¹i (hÃ¬nh nhÆ° Ä‘Ã¢y lÃ  táº¥m Ä‘áº§u tiÃªn tá»« lÃºc iu thÃ¬ pháº£i Ã¡)' },
      { img: 'images/IMG_20221223_122314_417.jpg', text: 'Em luÃ´n lÃ  chá»— dá»±a cho anh :3 (chá»¥i ui anh thÃ­ch cáº£m giÃ¡c Ä‘Æ°á»£c em Ã´m nhÆ° nÃ y láº¯m)' },
      { img: 'images/IMG_20221223_122703_601.jpg', text: 'Zui záº» cÃ¹ng nhaoooo' },
      { img: 'images/IMG_20250502_140000292.jpg', text: 'Anh cÅ©ng lÃ  chá»— dá»±a cho em ná»©aaa ğŸ’ª' },
      { img: 'images/IMG_20221218_131511_701.jpg', text: 'ÄÃ¡ngggg iuuuu Ã­ii' },
      { img: 'images/IMG_20250716_155520.jpg', text: 'háº¹ háº¹ háº¹' },
      { img: 'images/IMG20221218195307.jpg', text: 'Em luÃ´n á»Ÿ bÃªn dÃµi theo anh (ká»ƒ cáº£ lÃºc anh Ä‘ang áº» ğŸ’©)' },
      { img: 'images/Locket_1752581000782_75.jpg', text: 'Má»™t chÃºt vitamin xinh gÃ¡i ğŸ˜' },
      { img: 'images/IMG_1758812697692_1758812716666.jpg', text: 'Má»™t chÃºt vitamin Ä‘Ã¡ng yÃªu ğŸ¥°' },
      { img: 'images/Locket_1754972493450_46.jpg', text: 'LÃ m "máº·t xáº¥u"' },
      { img: 'images/IMG_1745602237857_1745602609248.jpg', text: 'NgÆ°á»i Ä‘áº¹p bÃªn pháº£i, quÃ¡i váº­t bÃªn trÃ¡i ğŸ˜Š' },
      { img: 'images/IMG_1756131903159_1756380896800.jpg', text: 'i chÆ¡iiii' },
      { img: 'images/IMG_1756131902868_1756137831540.jpg', text: 'Chá»¥p áº£nh' },
      { img: 'images/IMG_1745602237544_1745602604173.jpg', text: 'Láº¡i i chÆ¡i' },
      { img: 'images/IMG_1746258545743_1746270440119.jpg', text: 'Láº¡i chá»¥p áº£nh ğŸ˜†' },
      { img: 'images/IMG_1744520107535_1744520303586.jpg', text: 'Anh tá»•ng tÃ i bÃ¡ Ä‘áº¡o vÃ  cÃ´ thÆ° kÃ­ xinh Ä‘áº¹p ğŸ¤­' },
      { img: 'images/IMG_1744520481775_1744520486142.jpg', text: 'Ãš Ã²aaa ğŸ˜ğŸ˜ğŸ˜' }
    ];

    const typeSound = new Audio('https://cdn.pixabay.com/download/audio/2022/03/15/audio_16b6a833c4.mp3?filename=typing-1-100281.mp3');
    typeSound.volume = 0.25;

    function showTypingEffect(text, target, callback) {
      let i = 0;
      const speed = 35;
      target.innerHTML = '';
      function typeChar() {
        if (i < text.length) {
          target.innerHTML += text.charAt(i);
          if (text.charAt(i) !== ' ' && text.charAt(i) !== '\n') {
            typeSound.currentTime = 0;
            typeSound.play();
          }
          i++;
          setTimeout(typeChar, speed);
        } else if (callback) callback();
      }
      typeChar();
    }

envelope.addEventListener('click', () => {
  if (opened) return;
  opened = true;

  // Äá»•i tiÃªu Ä‘á» khi má»Ÿ thÆ°
  gsap.to(header, {
    y: -30, opacity: 0, duration: 0.6, ease: 'power2.inOut',
    onComplete: () => {
      header.innerHTML = `
        <h1 class='title-font text-3xl text-purple-700 animate-bounce'>
          ğŸŒ¸ Gá»­i Ä‘áº¿n em nhá»¯ng lá»i iu thÆ°n
        </h1>
        <p class='text-purple-500 italic'>
          Má»™t chÃºt lá»i chÃºc nho nhá» tá»« táº­n Ä‘Ã¡y lÃ²ng...
        </p>`;
      gsap.fromTo(header, { y: -20, opacity: 0 }, { y: 0, opacity: 1, duration: 1, ease: 'back.out(1.7)' });
    }
  });

  // Má»Ÿ náº¯p + nhÃºn phong bÃ¬
  gsap.to(flap, { rotateX: 180, duration: 1.2, ease: 'elastic.out(1,0.5)' });
  gsap.to(envelope, { scale: 1.1, duration: 0.6, yoyo: true, repeat: 1 });

  // Hiá»‡n giáº¥y & ná»™i dung
  gsap.to(paper, {
    opacity: 1, y: 0, duration: 1.4, delay: 1.2, ease: 'power3.out',
    onStart: () => {
      gsap.to(envelope, { opacity: 0, duration: 1, delay: 0.6, onComplete: () => (envelope.style.display = 'none') });
    },
    onComplete: () => {
      gsap.to(message, { opacity: 1, delay: 0.5, duration: 1 });

      // DÃ²ng Ä‘áº§u thÆ° (cá»‘ Ä‘á»‹nh)
      const dateLine = `<div class='letter-header'>HÃ  Ná»™i, ngÃ y 20 thÃ¡ng 10 nÄƒm 2025</div>`;

      // Ná»™i dung thÆ° (hiá»‡u á»©ng gÃµ)
      const letterBody = `Gá»­i em yÃªu dáº¥u ğŸ’œ,\n
NhÃ¢n dá»‹p hÃ´m qua lÃ  ngÃ y 19 vÃ  ngÃ y mai lÃ  ngÃ y 21 thÃ¡ng 10.\nAnh cÃ³ má»™t mÃ³n quÃ  nho nhá» muá»‘n dÃ nh táº·ng Ä‘áº¿n ngÆ°á»i anh thÆ°Æ¡ng ğŸ˜Š.\nMÃ³n quÃ  nÃ y nhá» vÃ  cÅ©ng Ä‘Æ¡n giáº£n thui nhÆ°ng anh hi vá»ng lÃ  em bÃ© sáº½ thÃ­ch nÃ³ áº¡ ğŸ˜˜\n
Äáº§u tiÃªn thÃ¬ anh xin chÃºc cho ngÆ°á»i yÃªu cá»§a anh cÃ³ 1 ngÃ y "á»Ÿ giá»¯a" tháº­t may máº¯n nheee ğŸ˜.\nKhoáº£ng thá»i gian qua cÅ©ng Ä‘Ã£ váº¥t váº£ nhiá»u cho em bÃ© cá»§a anh rÃ¹i, anh hi vá»ng tá»« nay Ä‘áº¿n mÃ£i vá» sau
sáº½ Ä‘Æ°á»£c cÃ¹ng em cÃ³ tháº­t nhiá»u niá»m vui vÃ  háº¡nh phÃºc ğŸ¥°.\n
Anh ráº¥t trÃ¢n trá»ng vÃ  cáº£m Æ¡n em vÃ¬ nhá»¯ng Ä‘iá»u tuyá»‡t vá»i mÃ  em Ä‘Ã£ dÃ nh cho anh ğŸ’“.\n`;

      const signature = `<div class='letter-signature'>__Anh iuuuu cá»§a em ğŸ’—__</div>`;

      // TrÃ¡nh bá»‹ xÃ³a máº¥t dateLine khi gÃµ: táº¡o vÃ¹ng riÃªng
      message.innerHTML = dateLine + "<div id='typingArea'></div>";
      const typingArea = document.getElementById('typingArea');

      showTypingEffect(letterBody, typingArea, () => {
        typingArea.innerHTML += signature;
        nextBtn.style.display = 'inline-block';
        gsap.fromTo(nextBtn, { opacity: 0, y: 10, scale: 0.9 }, { opacity: 1, y: 0, scale: 1, duration: 1, ease: 'elastic.out(1,0.5)' });
      });
    }
  });
});


    let galleryIndex = 0;

    nextBtn.addEventListener('click', () => {
      gsap.to(paper, { opacity: 0, y: -50, scale: 0.95, duration: 0.8, ease: 'power2.inOut', onComplete: () => {
        paper.style.display = 'none';
        header.innerHTML = `<h1 class='title-font text-3xl text-purple-700 animate-pulse'>ğŸ’ Nhá»¯ng ká»· niá»‡m nhá»</h1>`;
        gallery.style.display = 'block';
        showGallery();
      }});
    });

    function showGallery() {
      if (galleryIndex >= galleryData.length) {
        startHeartScene();
        return;
      }
      const item = galleryData[galleryIndex];
      galleryImg.src = item.img;
      caption.textContent = '';
      caption.style.textAlign = galleryIndex % 2 === 0 ? 'left' : 'right';
      gsap.fromTo(galleryImg, { opacity: 0, scale: 0.9, rotationY: 20 }, { opacity: 1, scale: 1, rotationY: 0, duration: 1.2, ease: 'back.out(1.7)' });
      showTypingEffect(item.text, caption, () => {
        galleryImg.onclick = () => {
          galleryImg.onclick = null;
          gsap.to(galleryImg, { opacity: 0, scale: 0.9, rotationY: -20, duration: 1, ease: 'power2.inOut', onComplete: () => {
            galleryIndex++;
            showGallery();
          }});
        };
      });
    }

    function startHeartScene() {
      gallery.style.display = 'none';
      heartScene.style.display = 'block';
      const audio = new Audio('music/romantic.mp3');
      audio.volume = 0.7;
      audio.play();
      gsap.fromTo(heartScene, { opacity: 0 }, { opacity: 1, duration: 2 });
      setInterval(() => {
        const heart = document.createElement('div');
        heart.className = 'heart';
        heart.textContent = Math.random() > 0.5 ? 'â¤' : 'ğŸ’œ';
        heart.style.left = Math.random() * 100 + 'vw';
        heart.style.fontSize = 16 + Math.random() * 30 + 'px';
        heart.style.animationDuration = 4 + Math.random() * 3 + 's';
        heartScene.appendChild(heart);
        setTimeout(() => heart.remove(), 7000);
      }, 180);
    }
  </script>
</body>
</html>
