<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>For You ‚Äî 20/10 üíú</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
  <style>
    body {
      font-family: 'Inter', sans-serif;
      background: radial-gradient(circle at top, #f6e9ff, #d9b3ff 80%);
      overflow-x: hidden;
    }
    .title-font { font-family: 'Playfair Display', serif; }
    header { text-align: center; margin-top: 2rem; transition: all 1s ease; }
    .hidden { display: none; }

    /* Login box */
    .login-box {
      text-align: center;
      margin-top: 10%;
      animation: fadeIn 1.5s ease;
    }
    .login-input {
      padding: 0.6rem 1rem;
      border: 2px solid #c084fc;
      border-radius: 10px;
      outline: none;
      text-align: center;
      transition: all 0.3s;
    }
    .login-input:focus {
      box-shadow: 0 0 15px #c084fc;
    }
    .login-btn {
      background: #a855f7;
      color: white;
      border-radius: 8px;
      padding: 0.6rem 1.2rem;
      margin-top: 1rem;
      cursor: pointer;
      transition: 0.3s;
    }
    .login-btn:hover { transform: scale(1.1); background: #9333ea; }

    /* Th∆∞ */
    .envelope {
      position: relative;
      width: 300px;
      height: 200px;
      background: linear-gradient(135deg, #d4a1ff, #c8a2c8);
      border-radius: 10px;
      cursor: pointer;
      box-shadow: 0 15px 40px rgba(0, 0, 0, 0.25);
      margin: 3rem auto;
      animation: float 3s ease-in-out infinite;
    }
    @keyframes float { 0%,100% { transform: translateY(0px); } 50% { transform: translateY(-10px); } }

    .flap {
      position: absolute; top: 0; left: 0; width: 100%; height: 50%;
      background: linear-gradient(180deg, #f4d9ff, #c8a2c8);
      clip-path: polygon(0 0, 100% 0, 50% 100%);
      border-top-left-radius: 10px; border-top-right-radius: 10px;
      transform-origin: top;
    }
    
    .letter-header {
      text-align: right;
      font-style: italic;
      color: #7e22ce;
      margin-bottom: 1rem;
    }

    .letter-signature {
      text-align: right;
      font-weight: 500;
      color: #6b21a8;
      margin-top: 1.5rem;
    }

    .paper {
      width: 90%;
      max-width: 700px;
      background: #faf5ff;
      border-radius: 10px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
      margin: 3rem auto;
      opacity: 0;
      transform: translateY(50px);
      text-align: left;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }

    .message {
      opacity: 0;
      padding: 2rem;
      font-size: 1.1rem;
      line-height: 1.8;
      color: #4b2e83;
      white-space: pre-line;
      background: linear-gradient(180deg, #faf5ff 70%, #efe0ff);
      border-radius: 10px;
      width: 90%;
      text-align: left;
    }

    .next-btn {
      display: none;
      background: linear-gradient(90deg, #a855f7, #c084fc);
      color: white;
      border-radius: 12px;
      padding: 0.8rem 1.6rem;
      margin: 1.5rem;
      cursor: pointer;
      box-shadow: 0 5px 15px rgba(168, 85, 247, 0.4);
      transition: 0.3s;
      font-weight: bold;
      text-align: center;
    }
    .next-btn:hover {
      transform: scale(1.08);
      box-shadow: 0 0 25px rgba(192, 132, 252, 0.6);
    }

    .next-btn:hover { transform: scale(1.1); background: #9333ea; }

    /* ·∫¢nh */
    .gallery { display: none; margin-top: 2rem; text-align: center; }
    .gallery img {
      width: 100%; max-width: 600px;
      border-radius: 16px;
      box-shadow: 0 4px 30px rgba(0, 0, 0, 0.2);
      margin: 0 auto;
      cursor: pointer;
      transform: scale(0.95);
      transition: all 1s ease;
      filter: brightness(1.05) saturate(1.2);
    }
    .gallery img:hover { transform: scale(1.02) rotate(1deg); }
    .caption {
      color: #4b2e83;
      font-size: 1.2rem;
      margin: 1rem auto;
      max-width: 600px;
      min-height: 2.5rem;
      text-shadow: 0 0 10px rgba(180, 100, 255, 0.3);
    }

    /* Tim bay */
    .heart-scene {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: radial-gradient(circle at center, #f3e8f9, #c4a1cf 80%);
      overflow: hidden;
      z-index: 50;
      animation: fadeIn 1.5s ease-in-out forwards;
    }
    .heart { position: absolute; color: #ff80bf; font-size: 24px; opacity: 0.8; animation: floatHeart 6s linear infinite; }
    @keyframes floatHeart { 0% { transform: translateY(100vh) scale(0.8); opacity: 1; } 100% { transform: translateY(-10vh) scale(1.2); opacity: 0; } }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
  </style>
</head>
<body class="min-h-screen flex flex-col items-center justify-start text-center p-6">

  <!-- LOGIN SCREEN -->
  <div id="loginScreen" class="flex flex-col items-center justify-center min-h-screen">
  <div class="bg-white/50 backdrop-blur-2xl rounded-[2rem] shadow-[0_8px_40px_rgba(160,100,255,0.25)] px-10 py-10 text-center animate-fadeIn border border-white/40">
    <h1 class="title-font text-3xl mb-4 text-purple-700 font-semibold flex items-center justify-center gap-2 drop-shadow-[0_1px_2px_rgba(128,0,128,0.1)]">
      üíå M·ªôt m√≥n qu√† b√≠ m·∫≠t <span class="animate-bounce text-lg">üíú</span>
    </h1>
    <p class="text-purple-500 italic mb-8 text-base leading-relaxed">
      Chi·∫øc ch√¨a kh√≥a m·ªü ra ƒëi·ªÅu anh d√†nh t·∫∑ng ri√™ng cho em.
    </p>

    <div class="flex items-center justify-center gap-4">
      <input id="passwordInput" type="password" placeholder="Nh·∫≠p m·∫≠t m√£ üå∏"
        class="w-64 px-4 py-3 rounded-full border border-purple-200 text-center text-purple-700 bg-white/70 placeholder-purple-300 focus:ring-4 focus:ring-purple-200/70 outline-none transition-all duration-300 shadow-[inset_0_0_8px_rgba(180,100,255,0.1)]">
      
      <button id="loginBtn"
        class="px-7 py-3 rounded-full bg-gradient-to-r from-purple-500 via-pink-400 to-purple-500 text-white font-semibold text-base shadow-[0_4px_20px_rgba(168,85,247,0.4)] hover:scale-110 hover:shadow-[0_0_25px_rgba(168,85,247,0.6)] transition-transform duration-300">
        üíñ M·ªü qu√† üíñ
      </button>
    </div>

    <p id="loginMsg" class="text-red-500 mt-5 h-6 text-sm"></p>
  </div>
</div>

<style>
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(30px) scale(0.98); }
  to { opacity: 1; transform: translateY(0) scale(1); }
}
.animate-fadeIn {
  animation: fadeIn 1.2s ease-out forwards;
}
</style>



  <!-- MAIN CONTENT -->
  <div id="mainContent" class="hidden">
    <header id="header">
      <h1 class="title-font text-4xl mb-2 text-purple-700 animate-pulse">üíå A Little Letter For My Baby üíú</h1>
      <p class="text-purple-600">Em b√© ch·∫°m v√†o b·ª©c th∆∞ n√†y ƒë·ªÉ m·ªü nh√© üíú</p>
    </header>

    <div id="envelope" class="envelope">
      <div id="flap" class="flap"></div>
    </div>

    <div id="paper" class="paper">
      <div id="message" class="message"></div>
      <button id="nextBtn" class="next-btn">Hihi t√≠p n·ªØa n√® :3</button>
    </div>

    <section id="gallery" class="gallery">
      <img id="galleryImg" src="images/img1.jpg" alt="·∫¢nh k·ª∑ ni·ªám" />
      <div id="caption" class="caption"></div>
    </section>

    <div id="heartScene" class="heart-scene"></div>
  </div>

  <script>
    const SECRET = "2010";
    const loginScreen = document.getElementById('loginScreen');
    const loginBtn = document.getElementById('loginBtn');
    const passwordInput = document.getElementById('passwordInput');
    const loginMsg = document.getElementById('loginMsg');
    const mainContent = document.getElementById('mainContent');

    loginBtn.addEventListener('click', () => {
      if (passwordInput.value.trim() === SECRET) {
        gsap.to(loginScreen, { opacity: 0, duration: 0.8, onComplete: () => {
          loginScreen.classList.add('hidden');
          mainContent.classList.remove('hidden');
          gsap.fromTo(mainContent, { opacity: 0 }, { opacity: 1, duration: 1.2 });
        }});
      } else {
        loginMsg.textContent = "Sai m·∫•t r·ªìi üò¢ Th·ª≠ l·∫°i nh√©!";
        gsap.fromTo(loginScreen, { x: -5 }, { x: 5, repeat: 3, yoyo: true, duration: 0.1 });
      }
    });
  </script>

  <script>
    const flap = document.getElementById('flap');
    const envelope = document.getElementById('envelope');
    const paper = document.getElementById('paper');
    const message = document.getElementById('message');
    const nextBtn = document.getElementById('nextBtn');
    const header = document.getElementById('header');
    const gallery = document.getElementById('gallery');
    const galleryImg = document.getElementById('galleryImg');
    const caption = document.getElementById('caption');
    const heartScene = document.getElementById('heartScene');
    let opened = false;

    const galleryData = [
      { img: 'images/IMG_20220702_125628.jpg', text: 'H·ªìi m√† em m·ªõi ch·ªâ nghƒ© ƒë·∫øn s·∫Ω ƒÉn th·ªãt anh n√®' },
      { img: 'images/IMG20220727233422.jpg', text: 'S·∫Øp ƒÉn th·ªãt th√†nh c√¥ng :>' },
      { img: 'images/IMG20220921211810.jpg', text: 'S·∫Øp ƒÉn th·ªãt r√πi (h√¨nh nh∆∞ ƒë√¢y l√† t·∫•m ƒë·∫ßu ti√™n t·ª´ l√∫c iu th√¨ ph·∫£i √°)' },
      { img: 'images/IMG_20221223_122314_417.jpg', text: 'Em lu√¥n l√† ch·ªó d·ª±a cho anh :3 (ch·ª•i ui anh th√≠ch c·∫£m gi√°c ƒë∆∞·ª£c em √¥m nh∆∞ n√†y l·∫Øm)' },
      { img: 'images/IMG_20221223_122703_601.jpg', text: 'Zui z·∫ª c√πng nhaoooo' },
      { img: 'images/IMG_20250502_140000292.jpg', text: 'Anh c≈©ng l√† ch·ªó d·ª±a cho em n·ª©aaa üí™' },
      { img: 'images/IMG_20221218_131511_701.jpg', text: 'ƒê√°ngggg iuuuu √≠ii' },
      { img: 'images/IMG_20250716_155520.jpg', text: 'h·∫π h·∫π h·∫π' },
      { img: 'images/IMG20221218195307.jpg', text: 'Em lu√¥n ·ªü b√™n d√µi theo anh (k·ªÉ c·∫£ l√∫c anh ƒëang ·∫ª üí©)' },
      { img: 'images/Locket_1752581000782_75.jpg', text: 'M·ªôt ch√∫t vitamin xinh g√°i üòç' },
      { img: 'images/IMG_1758812697692_1758812716666.jpg', text: 'M·ªôt ch√∫t vitamin ƒë√°ng y√™u ü•∞' },
      { img: 'images/Locket_1754972493450_46.jpg', text: 'L√†m "m·∫∑t x·∫•u"' },
      { img: 'images/IMG_1745602237857_1745602609248.jpg', text: 'Ng∆∞·ªùi ƒë·∫πp b√™n ph·∫£i, qu√°i v·∫≠t b√™n tr√°i üòä' },
      { img: 'images/IMG_1756131903159_1756380896800.jpg', text: 'i ch∆°iiii' },
      { img: 'images/IMG_1756131902868_1756137831540.jpg', text: 'Ch·ª•p ·∫£nh' },
      { img: 'images/IMG_1745602237544_1745602604173.jpg', text: 'L·∫°i i ch∆°i' },
      { img: 'images/IMG_1746258545743_1746270440119.jpg', text: 'L·∫°i ch·ª•p ·∫£nh üòÜ' },
      { img: 'images/IMG_1744520107535_1744520303586.jpg', text: 'Anh t·ªïng t√†i b√° ƒë·∫°o v√† c√¥ th∆∞ k√≠ xinh ƒë·∫πp ü§≠' },
      { img: 'images/IMG_1744520481775_1744520486142.jpg', text: '√ö √≤aaa üòçüòçüòç' }
    ];

    const typeSound = new Audio('https://cdn.pixabay.com/download/audio/2022/03/15/audio_16b6a833c4.mp3?filename=typing-1-100281.mp3');
    typeSound.volume = 0.25;

    function showTypingEffect(text, target, callback) {
      let i = 0;
      const speed = 35;
      target.innerHTML = '';
      function typeChar() {
        if (i < text.length) {
          target.innerHTML += text.charAt(i);
          if (text.charAt(i) !== ' ' && text.charAt(i) !== '\n') {
            typeSound.currentTime = 0;
            typeSound.play();
          }
          i++;
          setTimeout(typeChar, speed);
        } else if (callback) callback();
      }
      typeChar();
    }

envelope.addEventListener('click', () => {
  if (opened) return;
  opened = true;

  // ƒê·ªïi ti√™u ƒë·ªÅ khi m·ªü th∆∞
  gsap.to(header, {
    y: -30, opacity: 0, duration: 0.6, ease: 'power2.inOut',
    onComplete: () => {
      header.innerHTML = `
        <h1 class='title-font text-3xl text-purple-700 animate-bounce'>
          üå∏ G·ª≠i ƒë·∫øn em nh·ªØng l·ªùi iu th∆∞n
        </h1>
        <p class='text-purple-500 italic'>
          M·ªôt ch√∫t l·ªùi ch√∫c nho nh·ªè t·ª´ t·∫≠n ƒë√°y l√≤ng...
        </p>`;
      gsap.fromTo(header, { y: -20, opacity: 0 }, { y: 0, opacity: 1, duration: 1, ease: 'back.out(1.7)' });
    }
  });

  // M·ªü n·∫Øp + nh√∫n phong b√¨
  gsap.to(flap, { rotateX: 180, duration: 1.2, ease: 'elastic.out(1,0.5)' });
  gsap.to(envelope, { scale: 1.1, duration: 0.6, yoyo: true, repeat: 1 });

  // Hi·ªán gi·∫•y & n·ªôi dung
  gsap.to(paper, {
    opacity: 1, y: 0, duration: 1.4, delay: 1.2, ease: 'power3.out',
    onStart: () => {
      gsap.to(envelope, { opacity: 0, duration: 1, delay: 0.6, onComplete: () => (envelope.style.display = 'none') });
    },
    onComplete: () => {
      gsap.to(message, { opacity: 1, delay: 0.5, duration: 1 });

      // D√≤ng ƒë·∫ßu th∆∞ (c·ªë ƒë·ªãnh)
      const dateLine = `<div class='letter-header'>H√† N·ªôi, ng√†y 20 th√°ng 10 nƒÉm 2025</div>`;

      // N·ªôi dung th∆∞ (hi·ªáu ·ª©ng g√µ)
      const letterBody = `G·ª≠i em y√™u d·∫•u üíú,\n
Nh√¢n d·ªãp h√¥m qua l√† ng√†y 19 v√† ng√†y mai l√† ng√†y 21 th√°ng 10.\nAnh c√≥ m·ªôt m√≥n qu√† nho nh·ªè mu·ªën d√†nh t·∫∑ng ƒë·∫øn ng∆∞·ªùi anh th∆∞∆°ng üòä.\nM√≥n qu√† n√†y nh·ªè v√† c≈©ng ƒë∆°n gi·∫£n thui nh∆∞ng anh hi v·ªçng l√† em b√© s·∫Ω th√≠ch n√≥ ·∫° üòò\n
ƒê·∫ßu ti√™n th√¨ anh xin ch√∫c cho ng∆∞·ªùi y√™u c·ªßa anh c√≥ 1 ng√†y "·ªü gi·ªØa" th·∫≠t may m·∫Øn nheee üòç.\nKho·∫£ng th·ªùi gian qua c≈©ng ƒë√£ v·∫•t v·∫£ nhi·ªÅu cho em b√© c·ªßa anh r√πi, anh hi v·ªçng t·ª´ nay ƒë·∫øn m√£i v·ªÅ sau
s·∫Ω ƒë∆∞·ª£c c√πng em c√≥ th·∫≠t nhi·ªÅu ni·ªÅm vui v√† h·∫°nh ph√∫c ü•∞.\n
Anh r·∫•t tr√¢n tr·ªçng v√† c·∫£m ∆°n em v√¨ nh·ªØng ƒëi·ªÅu tuy·ªát v·ªùi m√† em ƒë√£ d√†nh cho anh üíì.\n`;

      const signature = `<div class='letter-signature'>__Anh iuuuu c·ªßa em üíó__</div>`;

      // Tr√°nh b·ªã x√≥a m·∫•t dateLine khi g√µ: t·∫°o v√πng ri√™ng
      message.innerHTML = dateLine + "<div id='typingArea'></div>";
      const typingArea = document.getElementById('typingArea');

      showTypingEffect(letterBody, typingArea, () => {
        typingArea.innerHTML += signature;
        nextBtn.style.display = 'inline-block';
        gsap.fromTo(nextBtn, { opacity: 0, y: 10, scale: 0.9 }, { opacity: 1, y: 0, scale: 1, duration: 1, ease: 'elastic.out(1,0.5)' });
      });
    }
  });
});


    let galleryIndex = 0;

    nextBtn.addEventListener('click', () => {
      gsap.to(paper, { opacity: 0, y: -50, scale: 0.95, duration: 0.8, ease: 'power2.inOut', onComplete: () => {
        paper.style.display = 'none';
        header.innerHTML = `<h1 class='title-font text-3xl text-purple-700 animate-pulse'>üíû Nh·ªØng k·ª∑ ni·ªám nh·ªè</h1>`;
        gallery.style.display = 'block';
        showGallery();
      }});
    });

    function showGallery() {
      if (galleryIndex >= galleryData.length) {
        startHeartScene();
        return;
      }
      const item = galleryData[galleryIndex];
      galleryImg.src = item.img;
      caption.textContent = '';
      caption.style.textAlign = galleryIndex % 2 === 0 ? 'left' : 'right';
      gsap.fromTo(galleryImg, { opacity: 0, scale: 0.9, rotationY: 20 }, { opacity: 1, scale: 1, rotationY: 0, duration: 1.2, ease: 'back.out(1.7)' });
      showTypingEffect(item.text, caption, () => {
        galleryImg.onclick = () => {
          galleryImg.onclick = null;
          gsap.to(galleryImg, { opacity: 0, scale: 0.9, rotationY: -20, duration: 1, ease: 'power2.inOut', onComplete: () => {
            galleryIndex++;
            showGallery();
          }});
        };
      });
    }

    function startHeartScene() {
      gallery.style.display = 'none';
      heartScene.style.display = 'block';
      const audio = new Audio('music/romantic.mp3');
      audio.volume = 0.7;
      audio.play();
      gsap.fromTo(heartScene, { opacity: 0 }, { opacity: 1, duration: 2 });
      setInterval(() => {
        const heart = document.createElement('div');
        heart.className = 'heart';
        heart.textContent = Math.random() > 0.5 ? '‚ù§' : 'üíú';
        heart.style.left = Math.random() * 100 + 'vw';
        heart.style.fontSize = 16 + Math.random() * 30 + 'px';
        heart.style.animationDuration = 4 + Math.random() * 3 + 's';
        heartScene.appendChild(heart);
        setTimeout(() => heart.remove(), 7000);
      }, 180);
    }
  </script>
</body>
</html>
